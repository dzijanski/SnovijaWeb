<!DOCTYPE html>
<html lang="uk">

<head>
    <meta charset="UTF-8">
  <link rel="stylesheet" href="css/scrollbar.css">

    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–°–£–ú - –Ω–∞–¥—ñ—Å–ª–∞—Ç–∏ –ø–µ—Ä–µ–∫–ª–∞–¥</title>
    <meta name="description">
    <script src="https://code.jquery.com/jquery-3.6.4.min.js"></script>
    <link rel="stylesheet" href="css/cards.css">
    <link rel="stylesheet" href="css/footer.css">
    <link rel="stylesheet" href="css/header.css">
    <link rel="stylesheet" href="css/translation.css">

    <link rel="icon" type=" image/x-icon" href="https://i.imgur.com/hJZwHlR.png">


    <link rel="stylesheet" href="css/var.css">
</head>

<body>
    <div class="header">
        <a href="index" class="logo">
            <img src="title2.png" alt="Logo" width="145" height="35">
            <style>
              .logo img {
                border-radius: 20px;
              }
              </style>
        <div class="headerbtn">
            <a href="index" class="main hbtn">–ì–∞–ª–æ—û–Ω–∞—è</a>
            <a href="about" class="team hbtn">–ü—Ä–∞ –Ω–∞—Å</a>
            <a href="faq" class="faq hbtn">FAQ</a>
            <a href="translation" class="addtranslation hbtn">–î–∞–¥–∞—Ü—å –ø–µ—Ä–∞–∫–ª–∞–¥</a>

      <script src="https://kit.fontawesome.com/a0ff110df7.js" crossorigin="anonymous"></script>
      <a href="https://send.monobank.ua/jar/3eoWaEfxde" class="addtranslation hbtn"><i class="fa-solid fa-gift"></i> –ü–∞–¥—Ç—Ä—ã–º–∞—Ü—å</a>

        </div>
    </div>
    <div class="TotalContainer">
        <div class="TotalTranslation"><span id="TotalTranslation">–ú–æ–¥–∞—û –ø–µ—Ä–∞–∫–ª–∞–¥–∑–µ–Ω–∞: 000</span></div>
    </div>
    <div id="AddItemContainer" class="AddItemContainer">
        <div class="form">
            <form id="TranslationForm">
                <label for="entry.1605450482">–ù–∞–∑–≤–∞ –ø–µ—Ä–µ–∫–ª–∞–¥–µ–Ω–æ–≥–æ <span class="required" alt="–û–±–æ–≤'—è–∑–∫–æ–≤–µ –ø–æ–ª–µ" title="–û–±–æ–≤'—è–∑–∫–æ–≤–µ –ø–æ–ª–µ">*</span></label>
                <input id="ItemName" type="text" name="entry.1605450482" required>
                <label for="entry.2129753653">–í–∞—à–µ —ñ–º'—è/–Ω–∞–∑–≤–∞ –∫–æ–º–∞–Ω–¥–∏ <span class="required" alt="–û–±–æ–≤'—è–∑–∫–æ–≤–µ –ø–æ–ª–µ" title="–û–±–æ–≤'—è–∑–∫–æ–≤–µ –ø–æ–ª–µ">*</span></label>
                <input id="Name" type="text" name="entry.2129753653" required>
                <label for="entry.112020502">–ó–Ω–∞—á–æ–∫/–ª–æ–≥–æ—Ç–∏–ø –ø–µ—Ä–µ–∫–ª–∞–¥–µ–Ω–æ–≥–æ <span class="required" alt="–û–±–æ–≤'—è–∑–∫–æ–≤–µ –ø–æ–ª–µ" title="–û–±–æ–≤'—è–∑–∫–æ–≤–µ –ø–æ–ª–µ">*</span></label>
                <input id="Image" type="text" name="entry.112020502" required>
                <label for="entry.500673411">–ü–æ—Å–∏–ª–∞–Ω–Ω—è –Ω–∞ –≥—Ä—É/–º–æ–¥(–º–æ–∂–Ω–∞ –¥–µ–∫—ñ–ª—å–∫–∞) <span class="required" alt="–û–±–æ–≤'—è–∑–∫–æ–≤–µ –ø–æ–ª–µ" title="–û–±–æ–≤'—è–∑–∫–æ–≤–µ –ø–æ–ª–µ">*</span></label>
                <input id="GMUrl" type="text" name="entry.500673411">
                <label for="entry.56713701">–ü–æ—Å–∏–ª–∞–Ω–Ω—è –Ω–∞ –ø–µ—Ä–µ–∫–ª–∞–¥ <span class="info" alt="–ù–µ –æ–±–æ–≤'—è–∑–∫–æ–≤–µ –ø–æ–ª–µ —è–∫—â–æ –≤–∞—à –ø–µ—Ä–µ–∫–ª–∞–¥ –¥–æ–¥–∞–Ω–æ –¥–æ –ø–µ—Ä–µ–∫–ª–∞–¥–µ–Ω–æ–≥–æ" title="–ù–µ –æ–±–æ–≤'—è–∑–∫–æ–≤–µ –ø–æ–ª–µ —è–∫—â–æ –≤–∞—à –ø–µ—Ä–µ–∫–ª–∞–¥ –¥–æ–¥–∞–Ω–æ –¥–æ –ø–µ—Ä–µ–∫–ª–∞–¥–µ–Ω–æ–≥–æ">?</span><span style="color: green; margin-left: 5px;" class="info" alt="–º–æ–∂–Ω–∞ –Ω–∞–¥—Å–∏–ª–∞—Ç–∏ –¥–µ–∫—ñ–ª—å–∫–∞ –ø–æ—Å–∏–ª–∞–Ω—å —á–µ—Ä–µ–∑ –ø—Ä–æ–±—ñ–ª–∏" title="–º–æ–∂–Ω–∞ –Ω–∞–¥—Å–∏–ª–∞—Ç–∏ –¥–µ–∫—ñ–ª—å–∫–∞ –ø–æ—Å–∏–ª–∞–Ω—å —á–µ—Ä–µ–∑ –ø—Ä–æ–±—ñ–ª–∏">?</span> </label>
                <input id="TrnalstionLink" type="text" name="entry.56713701">
                <label id="added" for="entry.666320625" required>–ß–∏ –¥–æ–¥–∞–ª–∏ –≤–∞—à –ø–µ—Ä–µ–∫–ª–∞–¥ –æ—Ñ—ñ—Ü—ñ–π–Ω–æ <span class="required"
                        alt="–û–±–æ–≤'—è–∑–∫–æ–≤–µ –ø–æ–ª–µ" title="–û–±–æ–≤'—è–∑–∫–æ–≤–µ –ø–æ–ª–µ">*</span></label>
                <div class="radio">
                    <label for="entry.666320625">–¢–∞–∫</label>
                    <input value="True" type="radio" name="entry.666320625">
                    <label for="entry.666320625">–ù—ñ</label>
                    <input value="False" type="radio" name="entry.666320625">
                </div>
                <label for="entry.785774625">–ö–æ–Ω—Ç–∞–∫—Ç–∏ —Ç–∞ –¥–æ–¥–∞—Ç–∫–æ–≤–∞ —ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—è<span class="required" alt="–û–±–æ–≤'—è–∑–∫–æ–≤–µ –ø–æ–ª–µ"
                        title="–û–±–æ–≤'—è–∑–∫–æ–≤–µ –ø–æ–ª–µ">*</span> </label>
                <textarea id="Contact" type="text" name="entry.785774625" required></textarea>
                <div class="processingCont">
                    <input type="checkbox" name="Processing " id="Processing" required>
                    <div class="Processing">–Ø –¥–æ–∑–≤–æ–ª—è—é –æ–±—Ä–æ–±–∫—É –¥–∞–Ω–∏—Ö —Ç–∞ —ó—Ö –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è –Ω–∞ —Å–∞–π—Ç—ñ –°–£–ú
                        <span class="required" alt="–û–±–æ–≤'—è–∑–∫–æ–≤–µ –ø–æ–ª–µ" title="–û–±–æ–≤'—è–∑–∫–æ–≤–µ –ø–æ–ª–µ">*</span>
                    </div>
                </div>
                <button id="submit" type="submit" class="submit hbtn">–ù–∞–¥—ñ—Å–ª–∞—Ç–∏</button>
            </form>
        </div>
    </div>

    <script>
        document.addEventListener("DOMContentLoaded", function () {
            // Attach event listener to the submit button
            const submitButton = document.getElementById('submit');
            if (submitButton) {
                submitButton.addEventListener('click', sendContact);
            } else {
                console.error('Submit button not found');
            }

            async function sendContact(ev) {
    ev.preventDefault();

    const itemname = document.getElementById('ItemName').value;
    const name = document.getElementById('Name').value;
    const image = document.getElementById('Image').value;
    const gmurl = document.getElementById('GMUrl').value;
    const trnalstionLink = document.getElementById('TrnalstionLink').value;
    const added = document.querySelector('input[name="entry.666320625"]:checked') 
        ? document.querySelector('input[name="entry.666320625"]:checked').value 
        : null;
    const contact = document.getElementById('Contact').value;
    const processingCheckbox = document.getElementById('Processing');

    if (!itemname || !name || !image || !contact || !added || !processingCheckbox.checked) {
        alert('–ë—É–¥—å –ª–∞—Å–∫–∞, –∑–∞–ø–æ–≤–Ω—ñ—Ç—å –≤—Å—ñ –æ–±–æ–≤\'—è–∑–∫–æ–≤—ñ –ø–æ–ª—è —Ç–∞ –ø—ñ–¥—Ç–≤–µ—Ä–¥—ñ—Ç—å –æ–±—Ä–æ–±–∫—É –¥–∞–Ω–∏—Ö.');
        return;
    }

    const timestamp = new Date().toISOString();

    let thumbnail = null;
    if (isValidImageUrl(image)) {
        thumbnail = { url: image };
    }

    const webhookBody = {
        embeds: [{
            title: itemname,
            fields: [
                { name: ':paintbrush: –ù–∞–∑–≤–∞ –ø–µ—Ä–µ–∫–ª–∞–¥–µ–Ω–æ–≥–æ', value: itemname },
                { name: ':bust_in_silhouette: –í–∞—à–µ —ñ–º\'—è/–Ω–∞–∑–≤–∞ –∫–æ–º–∞–Ω–¥–∏', value: name },
                { name: ':frame_photo: –ó–æ–±—Ä–∞–∂–µ–Ω–Ω—è –ø–µ—Ä–µ–∫–ª–∞–¥–µ–Ω–æ–≥–æ', value: image },
                { name: ':paperclips: –ü–æ—Å–∏–ª–∞–Ω–Ω—è –Ω–∞ –≥—Ä—É/–º–æ–¥(–º–æ–∂–Ω–∞ –¥–µ–∫—ñ–ª—å–∫–∞)', value: gmurl },
                { name: ':link: –ü–æ—Å–∏–ª–∞–Ω–Ω—è –Ω–∞ –ø–µ—Ä–µ–∫–ª–∞–¥', value: trnalstionLink },
                { name: ':eyes: –ß–∏ –¥–æ–¥–∞–ª–∏ –≤–∞—à –ø–µ—Ä–∫–ª–∞–¥ –æ—Ñ—ñ—Ü—ñ–π–Ω–æ', value: added },
                { name: ':thread: –ö–æ–Ω—Ç–∞–∫—Ç–∏ —Ç–∞ –¥–æ–¥–∞—Ç–∫–æ–≤–∞ —ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—è', value: contact },
            ],
            thumbnail: thumbnail,
            timestamp: timestamp,
        }],
    };

    try {
        const response = await fetch('/.netlify/functions/discordWebhook', {
            method: 'POST',
            headers: {
                'Content-Type': 'application/json',
            },
            body: JSON.stringify(webhookBody),
        });

        if (response.ok) {
            // –ù–∞–¥—Å–∏–ª–∞—î–º–æ –¥–∞–Ω—ñ –¥–æ Google Forms
            const form = document.querySelector('form');
            const formData = new FormData(form);

            const googleFormsUrl = 'https://docs.google.com/forms/d/1UaAQAJ1iZWmhDKxmbCytomdZpDgu_y7mh72oenMzUY8/formResponse';

            try {
                await fetch(googleFormsUrl, {
                    method: 'POST',
                    body: formData,
                    mode: 'no-cors',
                });

                window.location.href = 'submited';
            } catch (error) {
                console.error('–ü–æ–º–∏–ª–∫–∞ –ø—Ä–∏ –Ω–∞–¥—Å–∏–ª–∞–Ω–Ω—ñ –¥–æ Google Forms:', error);
                window.location.href = 'submited';
            }
        } else {
            alert('–°—Ç–∞–ª–∞—Å—å —è–∫–∞—Å—å –ø–æ–º–∏–ª–∫–∞, –ø–µ—Ä–µ–≤—ñ—Ä—Ç–µ –≤–≤–µ–¥–µ–Ω—ñ –¥–∞–Ω—ñ —Ç–∞ —Å–ø—Ä–æ–±—É–π—Ç–µ —â–µ —Ä–∞–∑.');
        }
    } catch (error) {
        console.error('–ü–æ–º–∏–ª–∫–∞ –ø—Ä–∏ –Ω–∞–¥—Å–∏–ª–∞–Ω–Ω—ñ –¥–æ —Å–µ—Ä–≤–µ—Ä–Ω–æ—ó —Ñ—É–Ω–∫—Ü—ñ—ó:', error);
        alert('–°—Ç–∞–ª–∞—Å—å —è–∫–∞—Å—å –ø–æ–º–∏–ª–∫–∞, –ø–µ—Ä–µ–≤—ñ—Ä—Ç–µ –≤–≤–µ–¥–µ–Ω—ñ –¥–∞–Ω—ñ —Ç–∞ —Å–ø—Ä–æ–±—É–π—Ç–µ —â–µ —Ä–∞–∑.');
    }
}

            // Function to validate image URL
            function isValidImageUrl(url) {
                // Regular expression to match image URL format
                const regex = /(https?:\/\/.*\.(?:png|jpg|jpeg|gif|bmp|svg))/i;
                return regex.test(url);
            }
        });
    </script>


    <div class="footer">
        <div class="footertext">
            <div class="infotext">¬© 2025 –°–ø—ñ–ª—å–Ω–æ—Ç–∞ —É–∫—Ä–∞—ó–Ω—ñ–∑–∞—Ü—ñ—ó –º–æ–¥—ñ–≤</div>
            <div class="infotext">–°—Ç–≤–æ—Ä–∏–≤ MEGATREX4 –∑ üíú –¥–æ –≤–∞—Å</div>
            <div class="infotext">THIS PRODUCT IS NOT SUPPORTED BY OR AFFILIATED WITH MOJANG MICROSOFT OR STEAM.</div>
        </div>
        <script type="module" src="js/countTranslations.js"></script>

        <script src="js/logo.js"></script>
</body>

</html>